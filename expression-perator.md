# 표현식과 연산자

```js
let x;
x = 3 * 5;
```

첫 번째 표현식의 3\*5 이다. 곱셈 표현식이고 그 결과는 15 이다. 그 다음은 값 15 를 변수 x 에 할당한 표현식이다. 할당은 그 자체가 표현식이다. x 만 값 15 를 할당받는 것이 아니라, 전체 표현식의 결과도 값 15 이다. 할당은 표현식이다. 따라서 값이 되므로, 다른 변수에 다시 할당할 수 있다.

그렇기 때문에 아래와 같은 식이 가능하다.

```js
let x, y;
y = x = 3 * 5; // 전체 문의 결과는 15이고 이 값은 사용하지 않았다. 어딘가에 할당하지도 않았으니 그냥 버려진다.
```

자바스크립트는 어떤 원칙으로 표현식을 실행할까? 자바스크립트가 표현식을 평가하는 순서를 연산자 우선순위라 부른다.

## 연산자

표현식이 값이 되는 것 이라면 연산자는 값을 만드는 행동이다.

## 산술 연산자

```js
const s = "5";
const y = 3 + +s; // y는 8이다.
```

단항 플러스 연산자는 자주 사용하는 연산자는 아니다. 보통 이 연산자를 사용한다면 문자열을 숫자로 강제로 변환하는 경우이며, 드물게는 세로로 줄을 맞추고 싶을 때 사용한다.

## 연산자 우선순위

자바스크립트는 산수와 마찬가지로 괄호가 최우선이다.
우선순위가 같은 연산자들은 오른쪽에서 왼쪽으로 또는 왼쪽에서 오른쪽으로 평가한다.

```js
let x = 3,
  y;
x += y = (6 * 5) / 2;
// 이 표현식을 우선순위에 따라 다음에 일어날 행동에 괄호를 치겠습니다.

// 곱셈과 나눗셈, 우선순위 14, 왼쪽에서 오른쪽으로
x += y = (6 * 5) / 2;
x += y = 30 / 2;
x += y = 15;
//할당. 우선순위 3, 오른쪽에서 왼쪽으로
x += y = 15;
x += 15;
18;
```

## 비교 연산자

비교 연산자는 일치함(strict equality)=== , 동등함(loose equality) == , 대소 관계의 세 가지 타입으로 나뉜다.

일치: 두 값이 같은 객체를 가리키거나, 같은 타입이고 값도 같다면(원시타입) 이 값을 일치한다고 본다.

동등: 두 값이 같은 객체를 가리키거나 같은 값을 갖도록 변환할 수 있다면 두 값을 동등하다고 한다.

여기서 같은 값을 갖도록 변경한다는 것은 `Numebr('1')`를 의미한다. 두 값이 같은 객체를 가리킨다는 것은? 이 책에서는 아마 값 === 값 , 값 == 값, 을 true 로 두 값이 일치하면 두 값이 동등하다고 표현하는 것 같다...

## 숫자 비교

**NaN**
특별한 숫자형 값 NaN 은 그 자신을 포함하여 무엇과도 같지 않다. 즉 Nan === NaN 과 NaN == NaN 은 모두 false 이다. 숫자가 NaN 인지 알아보려면 내장된 함수 isNaN()을 사용해야 한다.

자바스크립트의 숫자는 모두 더블 형식이다.
소수점이 있는 숫자를 비교할 때는 관계 연산자를 써서 테스트하는 숫자가 대상 숫자에 충분히 가까운지 확인하는 편이 좋다.

자바스크립트에는 특별한 숫자형 상수 Number.EPSILON 이 있다. 이것은 매우 작은 값이며 일반적으로 숫자 두 개를 구별하는 기준으로 사용한다.

```js
let n = 0;
while (true) {
  n += 0.1;
  if (n === 0.3) break;
}
console.log(`stopped at ${n}`);
```

0.1 은 이진 표현으로 나타낼 수 있는 숫자들 사이에 걸쳐 있다. 따라서 이 루프를 세 번째 반복할 때 n 의 값은 0.30000000000000004 이다.

Number.EPSILON 과 관계 연산자를 사용해서 느슨하게 비교하고 성공적으로 루프를 빠져나갈 수 있다.

```js
let n = 0;
while (true) {
  n += 0.1;
  if (Math.abs(n - 0.3) < Number.EPSILON) break;
}
n;
console.log(`stopped at ${n}`);
```

두 개의 더블 형식이 같다고 할 수 있을 만큼 가까운 숫자인지 판단할 때 일반적으로 사용하는 방법이다.

## 논리 연산자

**거짓 같은 값**

- undefined
- null
- false
- 0
- ''
- NaN

**참 같은 값**

- 모든 객체.valueOf() 메서드를 호출했을 때 false 를 반환하는 객체도 참 같은 값에 속한다.
- 배열, 빈 배열
- 공백만 있는 문자열
- 문자열 'false'

### 쉼표 연산자

쉼표 연산자는 표현식을 결합하여 두 표현식을 평가한 후 두 번째 표현식의 결과를 반환한다. 표현식을 하나 이상 실행해야 하지만 값으로 필요한 것은 마지막 표현식의 결과뿐일 때 쉼표 연산자를 유용하게 쓸 수 있다.

```js
let x = 0,
  y = 10,
  z;
z = (x++, y++); //z에 10이 할당된다.
```

## 해체 할당

```js
const obj = { b: 2, c: 3 };
const { a, b, c } = obj;
a; // undefined
b; // 2
c; // 3
```

```js
const arr = [1, 2, 3];
let [x, r] = arr;
x;
y;
z;
```

```js
const arr = [1, 2, 3, 4, 5];
let [x, y, ...rest] = arr;
x; //1
y; //2
rest; // [3,4,5]
```

```js
let a = 5,
  b = 10;
[a, b] = [b, a];
```

해체의 진가는 다른 곳에서 가져온 객체나 배열에서 원하는 요소를 뽑아내야 할 때 드러난다.
